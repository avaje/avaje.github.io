<!doctype html>
<html lang="en">
<head>
  <title>Avaje</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="shortcut icon" href="/images/favicon.ico">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto|Source+Sans+Pro|Ubuntu|Kalam&display=swap">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css" integrity="sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt" crossorigin="anonymous">
  <link rel="stylesheet" href="/css/reset.css">
  <link rel="stylesheet" href="/css/site.css">
  <link rel="stylesheet" href="/css/pygments.css">
</head>
<body>

<div class="container">
  <aside id="sidenav">
    <nav class="side scroll">
<ul>
  <li><a href="#what">Overview</a>
</li>
<li><a href="#quick">Quick Start</a>
</li>
<li><a href="#properties">avaje-logger.properties</a>
</li>
<li><a href="#test-properties">avaje-logger-test.properties</a>
</li>
<li><a href="#debugging">Debugging</a>
</li>
<li><a href="#configure">Configure</a>
</li>
<li><a href="#json">Structured JSON</a>
</li>
<li><a href="#dynamic-level">Dynamic log levels</a>
</li>

</ul>
<p>&nbsp;</p>
    </nav>
  </aside>
  <article id="main-content">
    <header>
      <nav id="top">
        <div class="breadcrumb"><a href="/">avaje</a><span class="sep">&nbsp;/&nbsp;</span><span class="last">simple logger</span></div>
        <ul>
          <li><a href="/" title="home"><i class="fas fa-home"></i></a></li>
          <li><a href="https://discord.gg/Qcqf9R27BR" title="discord server"><i class="fab fa-discord"></i></a></li>
          <li><a href="https://github.com/avaje/avaje-simple-logger" title="github source"><i class="fab fa-github"></i></a></li>
          <li><a onclick="toggleTheme();" title="switch dark light theme"><i class="fas fa-adjust"></i></a></li>
        </ul>
      </nav>
    </header>
    
  <h1 id="overview">
    <span class="logo">Avaje</span>&thinsp;Simple Logger
  </h1>

  <table style="width: 100%;">
    <tr>
      <th>Discord</th>
      <th>Source</th>
      <th>API Docs</th>
      <th>Issues</th>
      <th>Releases</th>
    </tr>
    <tr>
      <td><a href="https://discord.gg/Qcqf9R27BR">Discord</td>
      <td><a target="_blank" href="https://github.com/avaje/avaje-simple-logger">GitHub</a></td>
      <td><a target="_blank" href="https://javadoc.io/doc/io.avaje/avaje-simple-logger/latest/io.avaje.prism/io/avaje/prism/package-summary.html">Javadoc</a></td>
      <td><a target="_blank" href="https://github.com/avaje/avaje-simple-logger/issues">GitHub</a></td>
      <td><a href="https://github.com/avaje/avaje-simple-logger/releases"><img
            src="https://img.shields.io/maven-central/v/io.avaje/avaje-simple-logger.svg?label=Maven%20Central"></a></td>
    </tr>
  </table>

  <p><br><br>
    This is a SLF4J logger that logs to <b>System out</b> JSON structured log messages.
    It can also log plan text messages typically for development use when running tests.
  </p>
  <p>
    It is designed to be used by applications that will be run in <b>K8s</b> or <b>Lambda</b>.
  </p>

  <h2 id="quick">Quick Start</h2><hr/>
  <h4>
    1. Add <em>avaje-simple-logger</em> dependency.
  </h4>
  <div class="syntax xml"><div class="highlight"><pre><span></span><span class="nt">&lt;dependency&gt;</span>
  <span class="nt">&lt;groupId&gt;</span>io.avaje<span class="nt">&lt;/groupId&gt;</span>
  <span class="nt">&lt;artifactId&gt;</span>avaje-simple-logger<span class="nt">&lt;/artifactId&gt;</span>
  <span class="nt">&lt;version&gt;</span>{simple-logger.version}<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
</pre></div>
</div>


  <h2 id="properties">avaje-logger.properties</h2>
  <p>
    Add a <code>src/main/resources/avaje-logger.properties</code> to configure the logger.
  </p>
  <div class="syntax properties"><div class="highlight"><pre><span></span><span class="c">## specify the default log level to use for testing</span>
<span class="na">logger.defaultLogLevel</span><span class="o">=</span><span class="s">warn</span>

<span class="c">## specify some default log levels</span>
<span class="na">log.level.com.foo.bar</span><span class="o">=</span><span class="s">DEBUG</span>
<span class="na">log.level.io.avaje</span><span class="o">=</span><span class="s">INFO</span>
</pre></div>
</div>


  <h2 id="test-properties">avaje-logger-test.properties</h2>
  <p>
    For testing, we might desire to log in a plain format rather than JSON format. We also might want to define some test specific log levels.
  </p>
  <p>
    Add a <code>src/test/resources/avaje-logger-test.properties</code> to configure the logger
    when running tests.
  </p>

  <div class="syntax properties"><div class="highlight"><pre><span></span><span class="c">## for testing we desire plain format than json format</span>
<span class="na">logger.format</span><span class="o">=</span><span class="s">plain</span>

<span class="c">## default log level to use when running tests</span>
<span class="na">logger.defaultLogLevel</span><span class="o">=</span><span class="s">INFO</span>

<span class="c">## some test specific log levels</span>
<span class="na">log.level.io.ebean.test.containers</span><span class="o">=</span><span class="s">TRACE</span>
<span class="na">log.level.io.ebean.DDL</span><span class="o">=</span><span class="s">TRACE</span>
<span class="c">#log.level.io.ebean.SQL=DEBUG</span>
<span class="c">#log.level.io.ebean.TXN=DEBUG</span>
</pre></div>
</div>


  <h2 id="debugging">Debugging</h2>
  <p>
    To debug avaje-simple-logger set the log level for <code>io.avaje.simplelogger</code> to <code>DEBUG</code>.
  </p>
  <div class="syntax properties"><div class="highlight"><pre><span></span><span class="na">log.level.io.avaje.simplelogger</span><span class="o">=</span><span class="s">DEBUG</span>
</pre></div>
</div>

  <p>
    If you are also using <code>io.avaje:avaje-aws-appconfig</code>, then you can additionally set
    <code>io.avaje.config</code> to <code>TRACE</code>.
  </p>
  <div class="syntax properties"><div class="highlight"><pre><span></span><span class="na">log.level.io.avaje.config</span><span class="o">=</span><span class="s">TRACE</span>
</pre></div>
</div>


  <h2 id="configure">Configure</h2>
  <p>
    Configure the logger via main resource avaje-logger.properties and test resource avaje-logger-test.properties
  </p>

  <div class="syntax properties"><div class="highlight"><pre><span></span><span class="c">## specify the default log level to use</span>
<span class="na">logger.defaultLogLevel</span><span class="o">=</span><span class="s">warn</span>

<span class="c">## specify to log as `json` or `plain` format (defaults to json)</span>
<span class="c">#logger.format=json</span>
<span class="na">logger.format</span><span class="o">=</span><span class="s">plain</span>

<span class="c">## specify if the logger name is abbreviated. Values:</span>
<span class="c">## - full - use the full logger name</span>
<span class="c">## - short - use the class name / suffix part of the logger name after the last `.`</span>
<span class="c">## - (some integer e.g. 100) - abbreviate the logger name to the target length (shorten the package names)</span>

<span class="na">logger.nameTargetLength</span><span class="o">=</span><span class="s">full</span>
<span class="na">logger.nameTargetLength</span><span class="o">=</span><span class="s">short</span>
<span class="na">logger.nameTargetLength</span><span class="o">=</span><span class="s">100</span>

<span class="na">logger.nameTargetLength</span><span class="o">=</span><span class="s">100</span>

<span class="c">## specify an explicit timezone to use, defaults to using default timezone</span>
<span class="na">logger.timezone</span><span class="o">=</span><span class="s">UTC</span>

<span class="c">## specify an explicit timestamp format to use, defaults to ISO_OFFSET_DATE_TIME</span>
<span class="c">## valid values: ISO_OFFSET_DATE_TIME, ISO_ZONED_DATE_TIME, ISO_LOCAL_DATE_TIME, ISO_DATE_TIME, ISO_INSTANT</span>
<span class="na">logger.timestampPattern</span><span class="o">=</span><span class="s">ISO_OFFSET_DATE_TIME</span>
</pre></div>
</div>


  <h2 id="json">Structured JSON</h2>
  <p>
    By default, the log format is JSON. Example:
  </p>
  <div class="syntax json"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;component&quot;</span><span class="p">:</span><span class="s2">&quot;my-application&quot;</span><span class="p">,</span>
  <span class="nt">&quot;env&quot;</span><span class="p">:</span><span class="s2">&quot;dev&quot;</span><span class="p">,</span>
  <span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="s2">&quot;2025-07-14T13:44:44.230959+12:00&quot;</span><span class="p">,</span>
  <span class="nt">&quot;level&quot;</span><span class="p">:</span><span class="s2">&quot;TRACE&quot;</span><span class="p">,</span>
  <span class="nt">&quot;logger&quot;</span><span class="p">:</span><span class="s2">&quot;io.avaje.config&quot;</span><span class="p">,</span>
  <span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="s2">&quot;load from [resource:application-test.properties]&quot;</span><span class="p">,</span>
  <span class="nt">&quot;thread&quot;</span><span class="p">:</span><span class="s2">&quot;main&quot;</span>
<span class="p">}</span>
</pre></div>
</div>


  <h4>component</h4>
  <p>
    A component key value is added if:
  </p>
  <ul>
    <li>There is a logger.component property set in avaje-logger.properties</li>
    <li>There is a COMPONENT environment variable set</li>
    <li>K8s is detected, it will be derived from the HOSTNAME environment variable</li>
    <li>This key value is expected to represent the application component that is the source of the logs.</li>
  </ul>

  <p>
  Examples:
  </p>
  <div class="syntax properties"><div class="highlight"><pre><span></span><span class="c">## a literal value</span>
<span class="na">logger.component</span><span class="o">=</span><span class="s">my-application</span>

<span class="c">## uses system property SERVICE_NAME or environment variable SERVICE_NAME</span>
<span class="na">logger.component</span><span class="o">=</span><span class="s">{SERVICE_NAME}</span>

<span class="c">## uses system property service.name or environment variable SERVICE_NAME</span>
<span class="na">logger.component</span><span class="o">=</span><span class="s">{service.name}</span>
</pre></div>
</div>
  <h4>env</h4>
  <p>
    An env key value is added to represent the environment the application is running in.
  </p>
  <p>
    An env key value is added automatically if:
  </p>
  <ul>
    <li>There is a logger.env variable set in avaje-logger.properties</li>
    <li>There is an ENV variable set</li>
  </ul>

  <p>
    Examples:
  </p>
  <div class="syntax properties"><div class="highlight"><pre><span></span><span class="c">## uses system property `app.env` or environment variable `APP_ENV`, defaults to `localdev`</span>
<span class="na">logger.environment</span><span class="o">=</span><span class="s">&#36;{app.env:localdev}</span>

<span class="c">## literal value</span>
<span class="na">logger.environment</span><span class="o">=</span><span class="s">DEV</span>
</pre></div>
</div>

  <h2 id="dynamic-level">Dynamic log levels</h2>
  <p>
    avaje-simple-logger automatically registers with avaje-config such that any configuration changes that start with log.level. are logging level configuration changes, and these are applied.
  </p>
  <p>
    avaje-config supports plugins like AWS AppConfig, where configuration changes can be dynamically made to the application. For example, log.level. changes can be dynamically made this way.
  </p>


  <h2>Don't need dynamic configuration?</h2>
  <p>
    If an application does not need dynamic configuration, then we can just use avaje-simple-json-logger. This excludes the avaje-config dependency.
  </p>

  <div class="syntax xml"><div class="highlight"><pre><span></span><span class="nt">&lt;dependency&gt;</span>
  <span class="nt">&lt;groupId&gt;</span>io.avaje<span class="nt">&lt;/groupId&gt;</span>
  <span class="nt">&lt;artifactId&gt;</span>avaje-simple-json-logger<span class="nt">&lt;/artifactId&gt;</span>
  <span class="nt">&lt;version&gt;</span>0.2<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
</pre></div>
</div>
  <p>
    Note that log levels can still be modified programmatically via:
  </p>
  <div class="syntax java"><div class="highlight"><pre><span></span><span class="n">Map</span><span class="o">&lt;!</span><span class="n">String</span><span class="o">&gt;,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">nameLevels</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;&gt;();</span>
<span class="n">nameLevels</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">&quot;com.foo&quot;</span><span class="o">,</span> <span class="s">&quot;debug&quot;</span><span class="o">);</span>
<span class="n">nameLevels</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">&quot;com.foo.bar&quot;</span><span class="o">,</span> <span class="s">&quot;info&quot;</span><span class="o">);</span>

<span class="n">LoggerContext</span><span class="o">.</span><span class="na">get</span><span class="o">().</span><span class="na">putAll</span><span class="o">(</span><span class="n">nameLevels</span><span class="o">);</span>
</pre></div>
</div>


  <p><br><br><br><br><br><br></p>


  </article>
</div>

<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
<script src="/js/site.js"></script>
</body>
</html>
